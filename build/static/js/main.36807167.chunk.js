(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(26),o=a.n(r),i=a(13),s=a(15),u=a(14);function m(e){var t=e.onClick,a=e.alt,n=e.className,r=e.text;return c.a.createElement("div",{key:r,onClick:t,alt:a,className:n},r)}var l=m;m.defaultProps={className:""};a(64);var d=function(){return c.a.createElement(i.b,{to:"/home"},c.a.createElement("div",{className:"logotype__img"}))};a(66);var f=function(e){return c.a.createElement("section",{className:"login"},c.a.createElement("header",{className:"login__header"}),c.a.createElement("nav",null,c.a.createElement(d,null),c.a.createElement("p",{className:"normal"},"The best place you can find commentaries ",c.a.createElement("br",null),"and spoilers of all marvel\u2019s comics database"),c.a.createElement("p",{className:"highlight"},"Try Now!"),c.a.createElement(l,{alt:"connect to google",onClick:function(){(0,e.doAuthentication)(e.history)},className:"login__google",text:"Connect with Google"})))},p=a(16),_=a.n(p),v=a(24),h=a(45),b=a(46),E=a(47),g=a(22),y=a.n(g),O=(a(70),a(72),function(){function e(){Object(h.a)(this,e)}return Object(b.a)(e,null,[{key:"firebase",value:function(){return 0===y.a.apps.length&&y.a.initializeApp(E),{database:y.a.database(),auth:y.a.auth(),googleProvider:new y.a.auth.GoogleAuthProvider}}}]),e}()),j=a(34),N=a(48),k="https://gateway.marvel.com:443/v1/public/comics";function w(){var e=j.apikey,t=(new Date).getTime();return{apikey:e,ts:t,hash:Object(N.MD5)("".concat(t).concat(j.key).concat(e)).toString()}}function S(e){var t=e.titleStartsWith,a=e.offset;return fetch(function(e){var t=w(),a=t.apikey,n=t.ts,c=t.hash,r="&apikey=".concat(a,"&hash=").concat(c,"&ts=").concat(n),o="".concat(k,"?"),i=e.map(function(e){var t=Object.keys(e);return""!==e[t]?"".concat(t,"=").concat(e[t]):void 0});return"".concat(o).concat(i.length>0?i.join("&"):"").concat(r)}([{titleStartsWith:t},{offset:a}])).then(function(e){return e.json()}).then(function(e){return e.data})}function C(e){return fetch(function(e){var t=w(),a=t.apikey,n=t.ts,c=t.hash;return"".concat(k,"/").concat(e,"?apikey=").concat(a,"&hash=").concat(c,"&ts=").concat(n)}(e)).then(function(e){return e.json()}).then(function(e){return e.data.results[0]})}function x(e){O.firebase().auth.signInWithPopup(O.firebase().googleProvider),O.firebase().auth.onAuthStateChanged(e)}function P(){return(P=Object(v.a)(_.a.mark(function e(t){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=O.firebase().database.ref("commics/").orderByChild("idcommic").equalTo(parseInt(t)),e.abrupt("return",a.once("value"));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var F={comments:"Comments",spoiler:"Spoiler"},I=[{name:"View threads",path:"threads"},{name:"add comments",path:"addpost"}],R=[{name:"Home",path:"home",noId:!0},{name:"add comments",path:"addpost"}],T=[{name:"Home",path:"home",noId:!0},{name:"View threads",path:"threads"}],q={addPost:"/addpost",home:"/home",login:"/",threads:"/threads"},L=21,D="LOGIN",V="LOGOUT",A="POST_GET";var G={doAuthentication:function(e){return function(){var t=Object(v.a)(_.a.mark(function t(a){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:x(function(t){t&&(a({type:D,user:t}),e.push(q.home))});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},B=Object(u.b)(null,G)(f),W=a(7),M=a.n(W),Y=a(2),z=a.n(Y);a(99);function H(e){var t=e.username;return c.a.createElement("header",{className:"header"},c.a.createElement(d,null),c.a.createElement("div",{className:"header__logout-container"},c.a.createElement("p",{className:"header__logout-container__username"},t.displayName),c.a.createElement("p",{className:"header__logout-container__bar"},"|"),c.a.createElement(l,{alt:"logout",onClick:function(){var t=e.history;(0,e.doLogout)(t)},className:"header__logout-container__btn",text:"Logout"})))}var U=Object(s.f)(H);H.prototype={username:z.a.string.isRequired,doLogout:z.a.func.isRequired};var X={doLogout:function(e){return function(){var t=Object(v.a)(_.a.mark(function t(a){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.push(q.login),a({type:V});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},J=Object(u.b)(function(e){return{username:e.info.user}},X)(U),K=a(4);var Q=a(49),Z=a.n(Q);a(102);function $(e){var t=function(){var e=Object(n.useState)(""),t=Object(K.a)(e,2);return{input:t[0],setInput:t[1]}}(),a=t.input,r=t.setInput,o=e.placeholder;return Object(n.useEffect)(function(){(0,e.updateFilter)(a)},[e,a]),c.a.createElement("div",{className:"search"},c.a.createElement(Z.a,{minLength:2,debounceTimeout:500,placeholder:o,value:a,onChange:function(e){r(e.target.value)}}))}$.prototype={placeholder:z.a.string.isRequired,updateFilter:z.a.func.isRequired};var ee=$;a(103);function te(e){var t=e.invert,a=e.menu,n=e.id,r=M()({"commic-nav":!t,"commic-nav__invert":t});function o(e){return Object.prototype.hasOwnProperty.call(e,"noId")?"/".concat(e.path):n?"/".concat(e.path,"/").concat(n):"/".concat(e.path)}return c.a.createElement("nav",{className:r},c.a.createElement("ul",null,a&&a.map(function(e){return c.a.createElement("li",{key:e.name},c.a.createElement(i.b,{to:o(e)},e.name))})))}var ae=te;te.defaultProps={id:void 0,invert:!1},te.prototype={id:z.a.string,invert:z.a.bool,menu:z.a.array.isRequired};a(104);function ne(e){var t=e.invert,a=e.menu,n=e.content,r=e.score,o=e.scoreValue,i=M()("comic",{comic__invert:t}),s=M()({comic__content:!t,comic__invert__content:t}),u=M()({comic__content__comic:!t,comic__invert__content__comic:t}),m=M()({comic__content__comic__image:!t,comic__invert__content__comic__image:t});return c.a.createElement("section",{className:i},c.a.createElement(ae,{invert:t,menu:a,id:n.id}),c.a.createElement("section",{className:s},c.a.createElement("div",{className:u},r&&c.a.createElement("aside",null,c.a.createElement("div",null,"Vote"),c.a.createElement("div",null,o)),c.a.createElement("div",{className:m},c.a.createElement("img",{alt:"commic cover",src:"".concat(n.thumbnail.path,"/portrait_xlarge.").concat(n.thumbnail.extension)})),c.a.createElement("section",null,c.a.createElement("p",null,n.title),c.a.createElement("p",null,n.description)))))}var ce=ne;ne.defaultProps={invert:!1,score:!1,scoreValue:0},ne.prototype={invert:z.a.bool,score:z.a.bool,scoreValue:z.a.number,menu:z.a.array.isRequired,content:z.a.object.isRequired};var re=a(50),oe=a.n(re);a(105);var ie=function(){return c.a.createElement("div",{className:"loading"},c.a.createElement(oe.a,{type:"spin",color:"#fff"}))};a(106);var se=function(e){var t=function(){var e=Object(n.useState)(""),t=Object(K.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(0),o=Object(K.a)(r,2),i=o[0],s=o[1],u=Object(n.useState)(!0),m=Object(K.a)(u,2),l=m[0],d=m[1],f=Object(n.useState)(""),p=Object(K.a)(f,2),_=p[0],v=p[1];return Object(n.useEffect)(function(){s(0)},[_]),Object(n.useEffect)(function(){d(!0)},[_,i]),Object(n.useEffect)(function(){l&&S({titleStartsWith:_,offset:i}).then(function(e){c(e),d(!1)})},[l,_,i,a]),{data:a,fetchCommics:S,loading:l,offset:i,onBackwards:function(){s(i+-1*L)},onForwards:function(){s(i+L)},setData:c,setLoading:d,updateFilter:function(e){v(e)}}}(),a=t.data,r=t.loading,o=t.updateFilter,i=t.offset,s=t.onBackwards,u=t.onForwards,m=M()("home__btn__loading-more",{"home__btn__loading-more--hide":0===i});return c.a.createElement("div",{className:"home"},c.a.createElement(J,null),c.a.createElement(ee,{updateFilter:o,placeholder:"Search for you favorite character"}),c.a.createElement("article",null,r&&c.a.createElement(ie,null),!r&&a&&a.results.map(function(e,t){return c.a.createElement(ce,{key:e.id,menu:I,invert:t%2!==0,content:e})})),c.a.createElement("div",{className:"home__btn"},c.a.createElement(l,{alt:"backwards",onClick:s,className:m,text:"< backwards"}),c.a.createElement(l,{alt:"forwards",onClick:u,className:"home__btn__loading-more",text:0===i?"Loading more ...":"forwards >"})))};a(107);function ue(e){var t=e.invert,a=e.content,n=M()("post",{post__invert:t}),r=M()({post__vote:!t,post__invert__vote:t}),o=M()({post__author:!t,post__invert__author:t}),i=M()({post__category:!t,post__invert__category:t}),s=M()({post__description:!t,post__invert__description:t});return c.a.createElement("section",{className:n},c.a.createElement("div",{className:r},c.a.createElement("span",null,"vote: ",a.vote)),c.a.createElement("div",{className:o},"by ",a.username," | date: ",a.date),c.a.createElement("div",{className:i},a.category),c.a.createElement("div",{className:s},a.comment))}ue.defaultProps={invert:!1},ue.prototype={invert:z.a.bool,content:z.a.object.isRequired};var me=ue;a(108);var le=function(){return c.a.createElement("div",{className:"notfound"},"No Comments or Spoilers founded!")};function de(e){var t=e.idcommic,a=Object(n.useState)(!0),c=Object(K.a)(a,2),r=c[0],o=c[1],i=Object(n.useState)(0),s=Object(K.a)(i,2),u=s[0],m=s[1],l=Object(n.useState)(""),d=Object(K.a)(l,2),f=d[0],p=d[1];return Object(n.useEffect)(function(){r&&function(e){return P.apply(this,arguments)}(t).then(function(e){o(!1),p(e.val())})},[t,r]),Object(n.useEffect)(function(){if(f){var e=Object.keys(f).map(function(e){return f[e].vote}).reduce(function(e,t){return e+t});m(e)}},[f]),{posts:f,score:u,loading:r}}a(109);var fe=function(e){var t=e.match.params.idcommic,a=function(e){var t=e.idcommic,a=Object(n.useState)(""),c=Object(K.a)(a,2),r=c[0],o=c[1];return Object(n.useEffect)(function(){C(t).then(function(e){o(e)})},[t]),{commic:r}}({idcommic:t}).commic,r=de({idcommic:t}),o=r.posts,i=r.loading,s=r.score;function u(){return o?Object.keys(o):[]}return c.a.createElement("div",{className:"threads"},c.a.createElement(J,null),c.a.createElement("article",null,a&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ce,{score:!0,menu:R,content:a,scoreValue:s}),c.a.createElement("section",{className:"threads__comments"},c.a.createElement("p",null,"Comments"),i&&c.a.createElement(ie,null),u().length>0?u().map(function(e,t){return c.a.createElement(me,{key:a.id+t,invert:t%2!==0,content:o[e]})}):c.a.createElement(le,null)))))};a(110);function pe(e){var t=e.menu,a=Object(n.useState)(t[0]),r=Object(K.a)(a,2),o=r[0],i=r[1],s=function(e){return M()("category__btn",{"category__btn--deactivated":o!==e,"category__btn--actived":o===e})};return Object(n.useEffect)(function(){e.selected(o)},[o]),c.a.createElement("section",{className:"category"},t.map(function(e){return function(e){return c.a.createElement("div",{key:e,className:s(e),onClick:(t=e,function(){i(t)})},c.a.createElement("input",{key:e,type:"radio",name:"category",value:"item"}),e);var t}(e)}))}var _e=pe;pe.prototype={menu:z.a.array.isRequired,selected:z.a.func.isRequired};var ve=a(51),he=a.n(ve);function be(e){var t=Object(n.useState)(F.comments),a=Object(K.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(0),i=Object(K.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(""),l=Object(K.a)(m,2),d=l[0],f=l[1],p=[F.comments,F.spoiler];return{comment:d,decrease:function(){u(s-1)},handleComment:function(e){f(e.target.value)},increase:function(){u(s+1)},menu:p,onSave:function(){var t=e.content,a=e.user,n=e.history;(function(e){var t={};return t["/commics/"+O.firebase().database.ref().child("commics").push().key]=e,O.firebase().database.ref().update(t)})({category:c,vote:s,comment:d,idcommic:t.id,username:a.displayName,email:a.email,date:he()().format("DD/MM/YYYY")}).then(function(){return n.push("".concat(q.threads,"/").concat(t.id))})},setCategory:r,vote:s}}a(112);var Ee=Object(s.f)(function(e){var t=be({content:e.content,user:e.user,history:e.history}),a=t.comment,n=t.decrease,r=t.handleComment,o=t.increase,i=t.menu,s=t.onSave,u=t.setCategory,m=t.vote;return c.a.createElement("section",{className:"addpost__form"},c.a.createElement("div",{className:"addpost__form-title"},"Type your comment or spoiler"),c.a.createElement("section",{className:"addpost__form-inputs"},c.a.createElement("div",{className:"addpost__form-inputs__vote"},c.a.createElement("label",{htmlFor:"vote"},"Vote"),c.a.createElement("section",{className:"addpost__form-inputs__vote__container"},c.a.createElement("div",{className:"addpost__form-inputs__vote__container__plus",onClick:o},"+"),m,c.a.createElement("div",{className:"addpost__form-inputs__vote__container__minus",onClick:n},"-"))),c.a.createElement(_e,{menu:i,selected:u}),c.a.createElement("div",{className:"addpost__form-inputs__comment"},c.a.createElement("label",{htmlFor:"comment"},"Post"),c.a.createElement("textarea",{id:"comment",name:"comment",rows:"5",cols:"25",value:a,onChange:r})),c.a.createElement("div",{className:"addpost__form-inputs__content-btn"},c.a.createElement(l,{alt:"Save",className:"addpost__form-inputs__content-btn__save",onClick:s,text:"Save"}))))}),ge=Object(u.b)(function(e){return{user:e.info.user}},null)(Ee);a(113);var ye=function(e){var t=function(e){var t=e.idcommic,a=Object(n.useState)(""),c=Object(K.a)(a,2),r=c[0],o=c[1];return Object(n.useEffect)(function(){C(t).then(function(e){o(e)})},[t]),{commic:r}}({idcommic:e.match.params.idcommic}).commic;return c.a.createElement("div",{className:"addpost"},c.a.createElement(J,null),c.a.createElement("article",null,t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ce,{menu:T,content:t}),c.a.createElement(ge,{content:t}))))};a(42);var Oe=function(){return c.a.createElement(i.a,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/",component:B}),c.a.createElement(s.a,{exact:!0,path:"/home",component:se}),c.a.createElement(s.a,{exact:!0,path:"/threads/:idcommic",component:fe}),c.a.createElement(s.a,{exact:!0,path:"/addpost/:idcommic",component:ye})))},je=a(52),Ne=a(53),ke=a(9),we=a(35),Se=a(54),Ce=a.n(Se),xe=a(36);var Pe=Object(ke.c)({info:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(xe.a)({},e,{user:t.user});case V:return{};default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(xe.a)({},t.value.val());default:return e}}}),Fe={key:"root",storage:Ce.a},Ie=Object(we.a)(Fe,Pe),Re=window.window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ke.d,Te=Object(ke.e)(Ie,Re(Object(ke.a)(Ne.a))),qe=Object(we.b)(Te),Le=Te;o.a.render(c.a.createElement(u.a,{store:Le},c.a.createElement(je.a,{persistor:qe},c.a.createElement(Oe,null))),document.getElementById("root"))},34:function(e){e.exports={apikey:"fc01c052de4dcb332a76684066aa52c9",key:"0a2915e50cca5d8942c1f014b859e343aa50b4dc"}},42:function(e,t,a){},47:function(e){e.exports={apiKey:"AIzaSyDy45Pr-IEaVi_F_WuQdAwGkHTxDA7Xkzc",authDomain:"testmyhome-af24f.firebaseapp.com",databaseURL:"https://testmyhome-af24f.firebaseio.com",storageBucket:"gs://testmyhome-af24f.appspot.com"}},55:function(e,t,a){e.exports=a(116)},64:function(e,t,a){},66:function(e,t,a){},99:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.36807167.chunk.js.map